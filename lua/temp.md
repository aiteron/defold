---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# TEMP

{% hint style="warning" %}
Для дальнейшего понимания нужен базовые знания программирования. Не важно на каком языке. В курсе мы не будем разбирать базовые концепции программирования (что такое переменные, циклы и т.п.)

Также очень желательно базовое понимание английского языка.
{% endhint %}

Lua - это простой встраиваемый язык, легкий и понятный, с одной структурой данных, с однообразным синтаксисом.

{% hint style="info" %}
Мы будем рассматривать функционал Lua 5.1 (т.к. именно эту версию поддерживает Defold)
{% endhint %}

***

## Первые впечатления

Lua - язык с динамической типизацией (переменные получают типы в зависимости от присвоенных значений. Переменная может хранить значение любого типа и возможно после сохранения в переменную значения одного типа заменить его на значение  другого типа). Писать на нем можно как в императивном, так и в объектно-ориентированном или функциональном стиле.

Вот классический пример из мира программирования написанный на языке Lua:

```lua
print("Hello World!")
```

## Операторы языка

Набор условных операторов и циклов довольно типичен:

```lua
-- условные операторы
if a == 0 then
    print("a is zero")
end

if b == a then
    print("a and b is equal")
else
    print("a and b is not equal")
end

if a == 0 then
    print("zero")
elseif a == 1 then
    print("one")
elseif a == 2 then
    print("two")
else
    print("other")
end

-- циклы
for i=1, 10 do
    print(i)
end

for i=10, 1, -1 do
    print(i)
end

b = 5
while b > 0 do
    b = b - 1
end

repeat
    b = b + 1
until b >= 5
```

Операторы над переменными:

```lua
-- присваивание
x = 0

-- арифметические:
y = x + 2    -- сложение
z = y - x    -- вычитание
x = 2 * 354  -- умножение
x = x / 3.5  -- деление
x = x % 2    -- остаток от деления
y = 2 ^ 10   -- возведение в степень

-- сравнение: <, >, ==, <=, =>, ~= (не-равно)

-- логические: and, or, not
if (x == 2 and y ~= 1) or not (z == 1) then
    print("DUCK")
end

-- конкатенация строк: ".."
a = "cat"
b = "dog"
print(a .. b) -- catdog

-- длина строки / размер таблицы: #
a = "DUCK"
print(#a) -- 4

-- получение элемента по индексу
t = {2, 4, 6}
print(t[2]) -- 4
```

## Типы данных

В Lua присутствуют следующие типы данных:

* nil (отсутствие значения)
* Булевы значения: true, false
* Числа (в Lua по умолчанию все числа имеют тип double)
* Строки
* Функции (да, функции могут хранится как значения в переменных)
* Поток (thread)
* Произвольные данные (userdata)
* Таблица (table)

### Подробнее о таблицах

Таблица - это очень изящная структура данных, она сочетает в себе свойства массива, хэш-таблицы ("ключ"-"значение"), структуры, объекта.

```lua
-- Использование таблицы в качестве массива
mytable = {1, 2, 3} -- массив из 3 элементов
print(a[2]) -- выведет 2, потому что индексы считаются с единицы

-- Использование таблицы как словаря
mydict = {}
mydict["biba"] = true
mydict["boba"] = false

-- Также можно в одной таблице хранить значения как по индексам, так и по ключам
test = {2, 4, 6, biba = true, boba = false}
```

## Функции



!!!!!



